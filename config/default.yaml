# NetHack Agent Configuration
# ===========================

# Agent settings
agent:
  # LLM provider: "openrouter" or "anthropic"
  provider: "openrouter"
  # LLM model to use for strategic decisions (OpenRouter format)
  model: "openai/gpt-5.2"
  # OpenRouter base URL
  base_url: "https://openrouter.ai/api/v1"
  # Temperature for LLM sampling (0.0 = deterministic, 1.0 = creative)
  temperature: 0.1
  # Reasoning/thinking effort for models that support extended thinking
  # Options: "none" (disabled), "minimal", "low", "medium", "high", "xhigh"
  # Higher values = more thinking tokens, better for complex reasoning
  # Thinking tokens are billed as output tokens
  reasoning: "high"

  # Runtime settings
  max_turns: 100000
  max_consecutive_errors: 5
  decision_timeout: 60.0
  skill_timeout: 30.0
  hp_flee_threshold: 0.3
  auto_save_skills: true
  log_decisions: true
  # Enable skill tools (write_skill, invoke_skill) - when false, only execute_code available
  skills_enabled: false

  # Message history: 0 = unlimited (compress old), N = keep only last N turns
  # Old user messages are compressed to just last_result (map stripped)
  max_history_turns: 1000
  # How many recent turns keep their full map (0 = only current turn has map)
  # Higher values give more spatial context but use more tokens
  maps_in_history: 0
  # How many recent turns keep full tool call arguments (0 = unlimited)
  # Older tool calls show just the tool name with "[compacted]" arguments
  # Keeps reasoning_details regardless
  tool_calls_in_history: 10
  # Show inventory in context each turn (helps agent track items without querying)
  show_inventory: true
  # Show adjacent tiles (N, S, E, W, etc.) with descriptions
  show_adjacent_tiles: true
  # Local map mode: show only tiles around player with coordinate guides (LLM-optimized)
  local_map_mode: false
  # Tiles in each direction from player (7 = 15x15 total view)
  local_map_radius: 7

# Environment settings
environment:
  # NLE environment name
  name: "NetHackChallenge-v0"
  # Maximum steps per episode (NLE limit)
  max_episode_steps: 1000000
  # Render mode: null for no rendering, "human" for visual, "ansi" for terminal
  render_mode: null
  # Character selection: "random" or specific like "val-hum-law-fem"
  character: "random"

# Skill system settings
skills:
  # Path to skill library directory
  library_path: "./skills"
  # Automatically save successful new skills
  auto_save: true
  # Minimum success rate to auto-save a skill (0.0 to 1.0)
  min_success_rate_to_save: 0.3
  # Maximum actions per skill execution
  max_actions_per_skill: 500

# Logging settings
logging:
  # Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
  level: "INFO"
  # Log format
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  # Log file path (null for stdout only)
  file: "./data/agent.log"
  # Log LLM prompts and responses
  log_llm: true
  # Log game actions
  log_actions: true
